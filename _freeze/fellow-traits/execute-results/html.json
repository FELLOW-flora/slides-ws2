{
  "hash": "f33ca15dae6f9c5ef00f7fb86a87f4bd",
  "result": {
    "engine": "knitr",
    "markdown": "---\nfrom: markdown+emoji\nformat:\n  revealjs:\n    logo: img/cesab-logo.png\n    footer: \"{{< fa brands github >}} &nbsp;<https://github.com/FELLOW-flora/fellow-traits>\"\n    smaller: true\n    auto-stretch: false\n    toc-depth: 1\n    theme: [default, \"css/custom.scss\"]\nengine: knitr\n---\n\n\n::: {.title-slide-container}\n\n::: {.title-slide-content}\n\n:::: {.columns}\n\n::: {.column .logo width=\"30%\"}\n![](img/fellow-logo.png)\n:::\n\n::: {.column width=\"70%\"}\n\n::: {.title}\nTraits database\n:::\n\n::: {.subtitle}\nQuick update and way forward\n:::\n\n::: {.date}\nJune 2025\n:::\n\n:::: {.columns}\n\n::: {.column .author width=\"32%\"}\nRomain Frelat<br/>\n{{< fa briefcase >}} &nbsp;FRB-CESAB\n:::\n\n::: {.column .author width=\"32%\"}\nKarim Barkaoui<br/>\n{{< fa briefcase >}} &nbsp;CIRAD\n:::\n\n::: {.column .author width=\"32%\"}\nElena Kazakou<br/>\n{{< fa briefcase >}} &nbsp;CNRS\n:::\n\n::::\n\n:::\n::::\n\n:::\n:::\n\n\n## Species list\n\n::::{ .columns}\n:::{ .column width=\"50%\" align=\"left\"}\n![Files in fellow-traits/data/raw-data/species-list](img/species-list-new.png){height=500}\n:::\n:::{ .column width=\"50%\" .fragment}\n<br><br>\n\n- Merge files (in [analyses/01_get_specieslist.R](https://github.com/FELLOW-flora/fellow-traits/blob/main/analyses/01_get_specieslist.R))   \n- Harmonize the spellings with function clean_species_list():   \n  - remove punctuations: ? . , ()  \n  - remove sp, spp, cf, complex, ...  \n  - remove author name and years when included  \n  - make sure only first genus letter is uppercase  \n  - remove \"Arbre\", \"Espece\", \"Inconue\", \"Repousse\", ...\n  - remove taxa that are coarser than family: *Dicotyledonae*, *Bryophyta*\n\n\n> Number of unique taxa: 2286  \n:::\n::::\n\n\n## Species list\n\n::::{ .columns}\n\n:::{ .column width=\"50%\"  align=\"left\"}\n\n**Taxonomic backbone**\n\n- [TaxRef v18](https://inpn.mnhn.fr/telechargement/referentielEspece/taxref/18.0/menu) \n- if not available, [GBIF](https://www.gbif.org/dataset/d7dddbf4-2cf0-4f39-9b2a-bb099caae36c) (based on Catalogue of Life) \n\n> Taxa with no exact match in Taxref: 112  \n> Taxa not found in Taxref with fuzzy matching: 51  \n> Taxa not found in GBIF: 4 (*Anisantha bromus*, *Festuca schedonorus*, *Ornithogalum muscari*, *Picris helminthotheca*)  \n> Number of accepted taxa: 2027\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n\n    FAMILY      GENUS    SPECIES SUBSPECIES    VARIETY \n        15        241       1640        120         11 \n```\n\n\n:::\n:::\n\n\n**Synonyms**  \n\n[46k known synonyms](https://github.com/FELLOW-flora/fellow-traits/raw/refs/heads/main/data/derived-data/species_known_synonyms.csv) were retrieve from   \noriginal species list, TaxRef and GBIF.  \n:::\n\n:::{ .column width=\"50%\" .fragment}\n\n*specialist*: a taxa listed in only one database   \n*generalist*: a taxa listed in 50% of the databases   \n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nsp_class\nspecialist      other generalist \n       858        973        196 \n```\n\n\n:::\n\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/speciesperdb-1.png){width=960}\n:::\n:::\n\n:::\n::::\n\n\n\n## Trait databases\n\n![Metadata in [fellow-traits/data/raw-data/traits/Metatraits.xlsx](https://github.com/FELLOW-flora/fellow-traits/raw/refs/heads/main/data/raw-data/traits/Metatraits.xlsx)](img/trait-db-new.png){height=500}\n\n\n## Trait coverage per database\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/nadb-1.png){width=960}\n:::\n:::\n\n## Trait coverage per database\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/natraits-1.png){width=960}\n:::\n:::\n\n## Trait coverage per database\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/natraitsrect-1.png){width=960}\n:::\n:::\n\n## Trait coverage per taxonomic rank\n\n::::{ .columns}\n\n:::{ .column width=\"75%\"  align=\"left\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/narank-1.png){width=960}\n:::\n:::\n\n:::\n\n:::{ .column width=\"25%\" .fragment}\n\nTaxa with no trait information.\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nAbies\nAcacia\nAgrimonia agrimonoides\nAgropyron\nAmaranthaceae\nApiaceae\nAsparagaceae\nAster\nBoraginaceae\nBrassicaceae\nBryum dichotomum\nCaryophyllaceae\nChaenomeles x superba\nChrysanthemum\nCochlearia\nCosmos\nCrambe abyssinica\nDysphania aristata\nGeraniaceae\nGlyceria\nImbribryum subapiculatum\nLamiaceae\nLavandula\nLeontodon autumnale\nLiliaceae\nLunaria\nMoehringia\nOrchis\nParonychia\nPiptatherum\nPoaceae\nPrimulaceae\nPulmonaria\nRhizogemma staphylina\nRiccia sorocarpa\nRiccia warnstorfii\nRoemeria hispida\nRosaceae\nRubiaceae\n```\n\n\n:::\n:::\n\n:::\n::::\n\n## Trait coverage per species frequency\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/nafreq-1.png){width=960}\n:::\n:::\n\n\n## Trait completness\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-58aa43c6e8558c0002bc\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-58aa43c6e8558c0002bc\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"Growth.form\",\"Dispersal.mode\",\"Plant.height\",\"Chorology\",\"Habitat\",\"Sexuality\",\"Fruit.type\",\"Pollination\",\"Dispersal.distance\",\"Flower.color\",\"Inflorescence\",\"Lifecycle\",\"Ellenberg.Salinity\",\"Seed.mass\",\"Flowering\",\"Ellenberg.Light\",\"Ellenberg.Reaction\",\"Photosynthetic.pathway\",\"Ellenberg.Moisture\",\"Ellenberg.Nutrients\",\"SLA\",\"Pollination.syndrome\",\"Flower.UV.reflectance\",\"Diaspore.exposure\",\"Diaspore.type\",\"Ellenberg.Temperature\",\"Leaf.area\",\"Floral.symmetry\",\"Flower.class\",\"Flower.type\",\"Nectar.quantity\",\"Pollen.quantity\",\"PV.Bees\",\"PV.Bumblebees\",\"PV.butterflies\",\"PV.Hoverflies\",\"Anemochory\",\"Leaf.dry.mass.content\",\"Leaf.dry.mass\",\"Epizoochory\",\"Canopy.diameter\",\"Canopy.height\",\"Diaspore.mass\",\"Leaf.width\",\"Lifeform\",\"Root.mycorrhizal.colonization\",\"Root.mass.fraction\",\"Seed.length\",\"Grassland.specialization\",\"Specific.root.length\",\"Flower.length\",\"Root.diameter\",\"Root.lateral.spread\",\"Diaspore.height\",\"Root.tissue.density\",\"lateral.spread\",\"offspring\",\"offspring.wsmall\",\"clonal.index\",\"Hydrochory\",\"Strategy\",\"Root.N.concentration\",\"Vegetative.propagation\",\"Plant.lifespan\",\"Root.depth\",\"Leaf.nitrogen.content\",\"Root.C.concentration\",\"Root.dry.matter\",\"Leaf.length\",\"Root.C.N.ratio\",\"Leaf.carbon.to.nitrogen.content\",\"Germination\",\"Root.length.density\",\"Flower.width\",\"Fruit.color\"],[5,4,8,1,1,1,2,1,1,5,2,2,1,5,3,1,1,1,1,1,3,3,3,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,2,1,2,1],[1974,1961,1916,1912,1911,1902,1901,1901,1889,1889,1884,1841,1804,1799,1734,1731,1691,1691,1560,1548,1438,1404,1279,1230,1230,1202,1188,1094,1094,1094,1094,1094,1094,1094,1094,1094,1058,1043,1000,938,937,937,864,746,716,658,609,594,570,535,515,482,473,465,456,447,443,443,442,432,423,406,385,375,371,351,315,294,290,267,236,170,150,145,71],[97,97,95,94,94,94,94,94,93,93,93,91,89,89,86,85,83,83,77,76,71,69,63,61,61,59,59,54,54,54,54,54,54,54,54,54,52,51,49,46,46,46,43,37,35,32,30,29,28,26,25,24,23,23,22,22,22,22,22,21,21,20,19,19,18,17,16,15,14,13,12,8,7,7,4]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th>Trait<\\/th>\\n      <th>N database<\\/th>\\n      <th>N taxa<\\/th>\\n      <th>Completness (%)<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[1,2,3]},{\"name\":\"trait\",\"targets\":0},{\"name\":\"database\",\"targets\":1},{\"name\":\"N_taxa\",\"targets\":2},{\"name\":\"completness\",\"targets\":3}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## Comparison - Plant height (m)\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/height-1.png){width=960}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   spvignes FlorealData    Lososova        BIEN        GIFT    Ecoflora \n       1888        1578         168         732         593        1000 \n     filled \n        132 \n```\n\n\n:::\n:::\n\n## Comparison - SLA\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/sla-1.png){width=960}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nHodgson    GIFT    BIEN  filled \n   1090     875     866     589 \n```\n\n\n:::\n:::\n\n## Comparison - Seed mass (mg)\n\n::: {.cell}\n::: {.cell-output-display}\n![](fellow-traits_files/figure-revealjs/seed-1.png){width=960}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nLososova     BIEN     GIFT Ecoflora Biolflor   filled \n     305      728      365     1271     1534      228 \n```\n\n\n:::\n:::\n\n\n## Comparison - Life form\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-2def4d68b6096e6e37a3\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2def4d68b6096e6e37a3\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"Ann\",\"Herb.perenn\",\"Ann_Herb.perenn\",\"Bienn\",\"Woody.peren\",\"Ann\",\"Ann\",\"Herb.perenn\",\"Ann_Bienn\",\"Ann_Herb.perenn\",\"Ann_Herb.perenn\",\"Herb.perenn\",\"Ann_Bienn_Herb.perenn\",\"Ann_Woody.peren\",\"Ann\",\"Ann_Bienn\",\"Herb.perenn\",\"Bienn_Herb.perenn\",\"Bienn\",\"Ann\",\"Ann_Bienn\",\"Bienn\",\"Ann_Bienn\",\"Ann_Herb.perenn\",\"Bienn\",\"Bienn_Herb.perenn\",\"Ann_Bienn\",\"Herb.perenn\"],[\"Annual\",\"Perennial\",\"Annual_Perennial\",\"Biennial\",\"Perennial\",\"Annual_Perennial\",\"Perennial\",\"Annual_Perennial\",\"Annual\",\"Perennial\",\"Annual\",\"Annual\",\"Annual_Perennial\",\"Annual_Perennial\",\"Biennial\",\"Biennial\",\"Biennial\",\"Biennial_Perennial\",\"Annual\",\"Annual_Biennial\",\"Annual_Biennial\",\"Annual_Biennial\",\"Annual_Biennial_Perennial\",\"Annual_Biennial_Perennial\",\"Annual_Biennial_Perennial\",\"Biennial\",\"Biennial_Perennial\",\"Perennial_Variable\"],[433,292,39,23,13,10,9,8,3,3,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th>Hodgson<\\/th>\\n      <th>GIFT<\\/th>\\n      <th>N<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":2},{\"name\":\"Hodgson\",\"targets\":0},{\"name\":\"GIFT\",\"targets\":1},{\"name\":\"N\",\"targets\":2}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n\n\n## Way forward - open questions\n\n<br>\n\n**Missing trait information?**   \n\n- which traits are missing? where to find them?\n- relevant trait database missing?\n\n. . .\n\n**How to get clean and complete trait database?**  \n\n- do we need information for all species? can we discard the rare taxa / non-weed taxa?\n- how to combine trait information from multiple sources? biases?\n- can we measure missing trait? can we guesstimate some of them?\n- should we do trait imputation based on other traits or taxonomy?\n- most categorical traits should be cleaned (misspellings, irrelevant categories, ...)\n\n\n. . .\n\n**What's next?**  \n\n- a first stepping stone for multiple sub-projects\n- in itself, is it a publishable output?\n- how to continue? who takes the lead from now?\n\n",
    "supporting": [
      "fellow-traits_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}